---
import Modal from "./Modal.astro";
import CRTToggle from "./CRTToggle.tsx";
import ScanlinesToggle from "./ScanlinesToggle.tsx";
---

<Modal id="settings">
  <h2>Settings</h2>
  <div class="settings-list">
    <CRTToggle client:load />
    <ScanlinesToggle client:load />
  </div>
  <p class="text-sm">
    Icons from <a href="https://pixeliconlibrary.com/">Pixel Icon Library</a> by <a
      href="https://hackernoon.com/">HackerNoon</a
    >
  </p>
</Modal>

<style is:global>
  .settings-list {
    margin: 1rem 0;
  }

  .crt-toggle {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    cursor: pointer;
    padding: 0.5rem 0;
  }

  .crt-toggle input {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
  }

  .toggle-switch {
    position: relative;
    width: 3rem;
    height: 1.5rem;
    background: var(--bg-secondary);
    border-radius: 0.25rem;
    transition: background 0.2s;
    border: 2px solid var(--text-secondary);
  }

  .toggle-switch::after {
    content: "";
    position: absolute;
    top: 2px;
    left: 2px;
    width: calc(1.5rem - 8px);
    height: calc(1.5rem - 8px);
    background: var(--text-secondary);
    border-radius: 0.125rem;
    transition: transform 0.2s;
  }

  .crt-toggle input:checked + .toggle-switch {
    background: var(--green);
    border-color: var(--green);
  }

  .crt-toggle input:checked + .toggle-switch::after {
    transform: translateX(1.5rem);
    background: var(--bg-primary);
  }

  .crt-toggle input:focus-visible + .toggle-switch {
    outline: 2px solid var(--text-primary);
    outline-offset: 2px;
  }
</style>
